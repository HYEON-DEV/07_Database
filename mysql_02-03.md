## 연산자, 정렬, 부분조회, 함수

### 연습문제 1
교수테이블에서 급여가 300~400 사이인 교수의 이름과 급여를 BETWEEN 연산자 사용하여 조회
```sql
mysql> SELECT name, sal FROM professor WHERE sal BETWEEN 300 AND 400;
+--------+-----+
| name   | sal |
+--------+-----+
| 이재우 | 320 |
| 성연희 | 360 |
| 남은혁 | 400 |
+--------+-----+
```

### 연습문제 2
교수테이블에서 직급이 조교수 또는 전임강사인 교수의 번호, 이름, 직급, 학과번호 IN 연산자로 조회
```sql
mysql> select profno, name, position, deptno from professor where position in ('조교수', '전임강사');
+--------+--------+----------+--------+
| profno | name   | position | deptno |
+--------+--------+----------+--------+
|   9902 | 이재우 | 조교수   |    201 |
|   9903 | 성연희 | 조교수   |    101 |
|   9904 | 염일웅 | 전임강사 |    102 |
|   9907 | 전은지 | 전임강사 |    101 |
+--------+--------+----------+--------+
```

### 연습문제3
학과 이름에 '공학'이라는 단어가 포함된 모든 학과의 학과번호, 이름, 위치 조회
```sql
mysql> select deptno, dname, loc from department where dname like '%공학%';
+--------+--------------+-------+
| deptno | dname        | loc   |
+--------+--------------+-------+
|    101 | 컴퓨터공학과 | 1호관 |
|    201 | 전자공학과   | 3호관 |
|    202 | 기계공학과   | 4호관 |
+--------+--------------+-------+
```

### 연습문제 4
담당교수가 결정된 학생의 학번, 이름, 학년, 담당교수번호 조회
```sql
mysql> select studno, name, grade, profno from student where profno is not null;
+--------+--------+-------+--------+
| studno | name   | grade | profno |
+--------+--------+-------+--------+
|  20103 | 김진경 |     2 |   9902 |
|  10101 | 전인하 |     4 |   9903 |
|  10107 | 이광훈 |     4 |   9903 |
|  10201 | 김진영 |     2 |   9905 |
|  10202 | 오유석 |     4 |   9905 |
|  10204 | 윤진욱 |     3 |   9905 |
|  10103 | 김영균 |     3 |   9906 |
|  10104 | 지은경 |     2 |   9907 |
|  10105 | 임유진 |     2 |   9907 |
|  10108 | 류민정 |     2 |   9907 |
+--------+--------+-------+--------+
```

### 연습문제5
102번 학과 학생중에서 4학년 학생이거나, 소곡된 학과에 상관없이 1학년 학생들의 이름, 학년, 학과번호 출력
```sql
mysql> select name, grade, deptno from student where deptno=102 and grade=4 or grade=1;
+--------+-------+--------+
| name   | grade | deptno |
+--------+-------+--------+
| 박미경 |     1 |    101 |
| 서재진 |     1 |    101 |
| 오유석 |     4 |    102 |
| 하나리 |     1 |    102 |
| 이동훈 |     1 |    201 |
| 박동진 |     1 |    201 |
| 조명훈 |     1 |    201 |
+--------+-------+--------+
```

<br> <hr> <br>


## 정렬, 부분조회

### 데이터 정렬하기 (1)
```sql
select name, grade, tel from student order by name;
+--------+-------+--------------+
| name   | grade | tel          |
+--------+-------+--------------+
| 김영균 |     3 | 051)824-9637 |
| 김진경 |     2 | 052)175-3941 |
| 김진영 |     2 | 055)419-6328 |
| 류민정 |     2 | 055)248-3679 |
| 박동진 |     1 | 051)742-6384 |
| 박미경 |     1 | 055)261-8947 |
| 서재진 |     1 | 051)239-4861 |
| 오유석 |     4 | 051)724-9618 |
| 윤진욱 |     3 | 053)487-2698 |
| 이광훈 |     4 | 055)736-4981 |
| 이동훈 |     1 | 055)426-1752 |
| 임유진 |     2 | 02)312-9838  |
| 전인하 |     4 | 051)781-2158 |
| 조명훈 |     1 | 02)785-6984  |
| 지은경 |     2 | 055)418-9627 |
| 하나리 |     1 | 055)296-3784 |
+--------+-------+--------------+
```

### 데이터 정렬하기 (2)
```sql
select studno, name, grade, deptno, userid from student order by deptno, grade desc;
+--------+--------+-------+--------+----------+
| studno | name   | grade | deptno | userid   |
+--------+--------+-------+--------+----------+
|  10101 | 전인하 |     4 |    101 | jun123   |
|  10107 | 이광훈 |     4 |    101 | huriky   |
|  10103 | 김영균 |     3 |    101 | mandu    |
|  10104 | 지은경 |     2 |    101 | gomo00   |
|  10105 | 임유진 |     2 |    101 | youjin12 |
|  10108 | 류민정 |     2 |    101 | cleansky |
|  10102 | 박미경 |     1 |    101 | ansel414 |
|  10106 | 서재진 |     1 |    101 | seolly   |
|  10202 | 오유석 |     4 |    102 | yousuk   |
|  10204 | 윤진욱 |     3 |    102 | samba7   |
|  10201 | 김진영 |     2 |    102 | simply   |
|  10203 | 하나리 |     1 |    102 | hanal    |
|  20103 | 김진경 |     2 |    201 | lovely   |
|  20101 | 이동훈 |     1 |    201 | dals     |
|  20102 | 박동진 |     1 |    201 | ping2    |
|  20104 | 조명훈 |     1 |    201 | rader214 |
+--------+--------+-------+--------+----------+
```

### 데이터 부분 조회
```sql
select name, position, sal from professor order by sal desc limit 0, 3;
+--------+----------+-----+
| name   | position | sal |
+--------+----------+-----+
| 김도훈 | 교수     | 500 |
| 권혁일 | 교수     | 450 |
| 이만식 | 부교수   | 420 |
+--------+----------+-----+
```

### 연습문제 1
```sql
select name, grade, idnum from student order by grade desc;
+--------+-------+---------------+
| name   | grade | idnum         |
+--------+-------+---------------+
| 전인하 |     4 | 7907021369824 |
| 이광훈 |     4 | 8109131276431 |
| 오유석 |     4 | 7709121128379 |
| 김영균 |     3 | 8103211063421 |
| 윤진욱 |     3 | 7904021358671 |
| 지은경 |     2 | 8004122298371 |
| 임유진 |     2 | 8301212196482 |
| 류민정 |     2 | 8108192157498 |
| 김진영 |     2 | 8206062186327 |
| 김진경 |     2 | 8302282169387 |
| 박미경 |     1 | 8405162123648 |
| 서재진 |     1 | 8511291186273 |
| 하나리 |     1 | 8501092378641 |
| 이동훈 |     1 | 8312101128467 |
| 박동진 |     1 | 8511241639826 |
| 조명훈 |     1 | 8412141254963 |
+--------+-------+---------------+
```

### 연습문제 2
```sql
select name, grade, deptno from student where deptno=101 order by birthdate;
+--------+-------+--------+
| name   | grade | deptno |
+--------+-------+--------+
| 전인하 |     4 |    101 |
| 지은경 |     2 |    101 |
| 김영균 |     3 |    101 |
| 류민정 |     2 |    101 |
| 이광훈 |     4 |    101 |
| 임유진 |     2 |    101 |
| 박미경 |     1 |    101 |
| 서재진 |     1 |    101 |
+--------+-------+--------+
```

### 연습문제 3
```sql
select name, studno, grade from student order by grade, name;
+--------+--------+-------+
| name   | studno | grade |
+--------+--------+-------+
| 박동진 |  20102 |     1 |
| 박미경 |  10102 |     1 |
| 서재진 |  10106 |     1 |
| 이동훈 |  20101 |     1 |
| 조명훈 |  20104 |     1 |
| 하나리 |  10203 |     1 |
| 김진경 |  20103 |     2 |
| 김진영 |  10201 |     2 |
| 류민정 |  10108 |     2 |
| 임유진 |  10105 |     2 |
| 지은경 |  10104 |     2 |
| 김영균 |  10103 |     3 |
| 윤진욱 |  10204 |     3 |
| 오유석 |  10202 |     4 |
| 이광훈 |  10107 |     4 |
| 전인하 |  10101 |     4 |
+--------+--------+-------+
```

### 연습문제 4
```sql
select name, position, sal from professor order by sal desc limit 4, 1;
+--------+----------+-----+
| name   | position | sal |
+--------+----------+-----+
| 성연희 | 조교수   | 360 |
+--------+----------+-----+
```


## 함수

### ex 1)  left
```sql
select name, left(name,1) from student;
+--------+--------------+
| name   | left(name,1) |
+--------+--------------+
| 전인하 | 전           |
| 박미경 | 박           |
| 김영균 | 김           |
| 지은경 | 지           |
| 임유진 | 임           |
| 서재진 | 서           |
| 이광훈 | 이           |
| 류민정 | 류           |
| 김진영 | 김           |
| 오유석 | 오           |
| 하나리 | 하           |
| 윤진욱 | 윤           |
| 이동훈 | 이           |
| 박동진 | 박           |
| 김진경 | 김           |
| 조명훈 | 조           |
+--------+--------------+
```

### ex 2)   right
```sql
select name, right(name,1) from student;
+--------+---------------+
| name   | right(name,1) |
+--------+---------------+
| 전인하 | 하            |
| 박미경 | 경            |
| 김영균 | 균            |
| 지은경 | 경            |
| 임유진 | 진            |
| 서재진 | 진            |
| 이광훈 | 훈            |
| 류민정 | 정            |
| 김진영 | 영            |
| 오유석 | 석            |
| 하나리 | 리            |
| 윤진욱 | 욱            |
| 이동훈 | 훈            |
| 박동진 | 진            |
| 김진경 | 경            |
| 조명훈 | 훈            |
+--------+---------------+
```

### ex 3)   substring
```sql
select name, substring(name,2, 1) from student;
+--------+----------------------+
| name   | substring(name,2, 1) |
+--------+----------------------+
| 전인하 | 인                   |
| 박미경 | 미                   |
| 김영균 | 영                   |
| 지은경 | 은                   |
| 임유진 | 유                   |
| 서재진 | 재                   |
| 이광훈 | 광                   |
| 류민정 | 민                   |
| 김진영 | 진                   |
| 오유석 | 유                   |
| 하나리 | 나                   |
| 윤진욱 | 진                   |
| 이동훈 | 동                   |
| 박동진 | 동                   |
| 김진경 | 진                   |
| 조명훈 | 명                   |
+--------+----------------------+
```

### ex 4)   replace
```sql
select name, replace(name,'이','lee') from student;
+--------+--------------------------+
| name   | replace(name,'이','lee') |
+--------+--------------------------+
| 전인하 | 전인하                   |
| 박미경 | 박미경                   |
| 김영균 | 김영균                   |
| 지은경 | 지은경                   |
| 임유진 | 임유진                   |
| 서재진 | 서재진                   |
| 이광훈 | lee광훈                  |
| 류민정 | 류민정                   |
| 김진영 | 김진영                   |
| 오유석 | 오유석                   |
| 하나리 | 하나리                   |
| 윤진욱 | 윤진욱                   |
| 이동훈 | lee동훈                  |
| 박동진 | 박동진                   |
| 김진경 | 김진경                   |
| 조명훈 | 조명훈                   |
+--------+--------------------------+
```

### ex 5)   concat (concatenate : 사슬같이 잇다; 연쇄시키다; 연관시키다)
```sql
select concat(name,grade) from student;
+--------------------+
| concat(name,grade) |
+--------------------+
| 전인하4            |
| 박미경1            |
| 김영균3            |
| 지은경2            |
| 임유진2            |
| 서재진1            |
| 이광훈4            |
| 류민정2            |
| 김진영2            |
| 오유석4            |
| 하나리1            |
| 윤진욱3            |
| 이동훈1            |
| 박동진1            |
| 김진경2            |
| 조명훈1            |
+--------------------+
```

### ex 6)   concat
```sql
select concat(name, ' ', grade, '학년') from student;
+----------------------------------+
| concat(name, ' ', grade, '학년') |
+----------------------------------+
| 전인하 4학년                     |
| 박미경 1학년                     |
| 김영균 3학년                     |
| 지은경 2학년                     |
| 임유진 2학년                     |
| 서재진 1학년                     |
| 이광훈 4학년                     |
| 류민정 2학년                     |
| 김진영 2학년                     |
| 오유석 4학년                     |
| 하나리 1학년                     |
| 윤진욱 3학년                     |
| 이동훈 1학년                     |
| 박동진 1학년                     |
| 김진경 2학년                     |
| 조명훈 1학년                     |
+----------------------------------+
```

### ex 7) &nbsp; trim &nbsp;&nbsp; ltrim 왼쪽 공백 제거 &nbsp;&nbsp; rtrim 오른쪽 공백 제거
```sql
select trim(name) from student;
```

### ex 8) md5 암호화  &nbsp;&nbsp;&nbsp; (복호화 없음)
```sql
select md5(name) from student;
```

### ex 9)    char_length
```sql
select char_length(name) from student;
```

### ex 10)   instr
```sql
select instr(name,'이'), name from student;
+------------------+--------+
| instr(name,'이') | name   |
+------------------+--------+
|                0 | 전인하 |
|                0 | 박미경 |
|                0 | 김영균 |
|                0 | 지은경 |
|                0 | 임유진 |
|                0 | 서재진 |
|                1 | 이광훈 |
|                0 | 류민정 |
|                0 | 김진영 |
|                0 | 오유석 |
|                0 | 하나리 |
|                0 | 윤진욱 |
|                1 | 이동훈 |
|                0 | 박동진 |
|                0 | 김진경 |
|                0 | 조명훈 |
+------------------+--------+
```

### ex 11)   upper  lower
```sql
select upper(userid) from professor;
select lower(userid) from professor;
```

### 연습문제 1
```sql
select name, replace(name, substring(name,2,1), '*') from student;
select name, concat( left(name,1), '*', right(name,1) ) from student;
+--------+-----------------------------------------+
| name   | replace(name, substring(name,2,1), '*') |
+--------+-----------------------------------------+
| 전인하 | 전*하                                   |
| 박미경 | 박*경                                   |
| 김영균 | 김*균                                   |
| 지은경 | 지*경                                   |
| 임유진 | 임*진                                   |
| 서재진 | 서*진                                   |
| 이광훈 | 이*훈                                   |
| 류민정 | 류*정                                   |
| 김진영 | 김*영                                   |
| 오유석 | 오*석                                   |
| 하나리 | 하*리                                   |
| 윤진욱 | 윤*욱                                   |
| 이동훈 | 이*훈                                   |
| 박동진 | 박*진                                   |
| 김진경 | 김*경                                   |
| 조명훈 | 조*훈                                   |
+--------+-----------------------------------------+
```

### 연습문제 2
```sql
select name, replace(idnum, substring(idnum,7,7), '*') from student;
select name, concat( left(idnum, 6), '*******' ) from student;
+--------+-------------------------------------+
| name   | concat( left(idnum, 6), '*******' ) |
+--------+-------------------------------------+
| 전인하 | 790702*******                       |
| 박미경 | 840516*******                       |
| 김영균 | 810321*******                       |
| 지은경 | 800412*******                       |
| 임유진 | 830121*******                       |
| 서재진 | 851129*******                       |
| 이광훈 | 810913*******                       |
| 류민정 | 810819*******                       |
| 김진영 | 820606*******                       |
| 오유석 | 770912*******                       |
| 하나리 | 850109*******                       |
| 윤진욱 | 790402*******                       |
| 이동훈 | 831210*******                       |
| 박동진 | 851124*******                       |
| 김진경 | 830228*******                       |
| 조명훈 | 841214*******                       |
+--------+-------------------------------------+
```

## 날짜 관련 함수

### ex 1)
시스템의 현재 시각 조회하기
```sql
select now();
+---------------------+
| now()               |
+---------------------+
| 2024-10-04 12:29:57 |
+---------------------+
```

### ex 2)
```sql
select date_add(now(), INTERVAL 100 day);
+-----------------------------------+
| date_add(now(), INTERVAL 100 day) |
+-----------------------------------+
| 2025-01-12 12:31:09               |
+-----------------------------------+
```

### ex 3)
```sql
select date_add(now(), INTERVAL -7 DAY);
+----------------------------------+
| date_add(now(), INTERVAL -7 DAY) |
+----------------------------------+
| 2024-09-27 12:32:08              |
+----------------------------------+
```

### ex 4)
```sql
select date_format(now(),'%Y%m%d%H%i%s');
+-----------------------------------+
| date_format(now(),'%Y%m%d%H%i%s') |
+-----------------------------------+
| 20241004123418                    |
+-----------------------------------+
```

## 그룹 함수
테이블의 전체 행을, 하나 이상의 칼럼을 기준으로 칼럼 값에 따라 그룹화하여 그룹별로 결과를 출력하는 함수이다

### ex 1)
```sql
select count(studno) from student where grade=3;
```

### ex 2)
```sql
select count(comm) from professor where deptno=101;
```

### ex 3)
```sql
select count(*) from professor where deptno=101;
```

### ex 4)
```sql
select max(sal) from professor;
```

### ex 5)
```sql
select min(sal) from professor;
```

### ex 6)
```sql
select sum(sal) from professor;
```

### ex 7)
```sql
select avg(height) from student;
```

### ex 8)
```sql
select avg(weight), sum(weight) from student where deptno=101;
+-------------+-------------+
| avg(weight) | sum(weight) |
+-------------+-------------+
|     68.0000 |         544 |
+-------------+-------------+
```

### 연습문제 1
```sql
select name, date_format(birthdate,'%Y%m%d%H%i%s') from student where left(birthdate,4) >= 1980;
where date_format(birthdate,'%Y') >= 1980;
+--------+---------------------------------------+
| name   | date_format(birthdate,'%Y%m%d%H%i%s') |
+--------+---------------------------------------+
| 박미경 | 19840516000000                        |
| 김영균 | 19810321000000                        |
| 지은경 | 19800412000000                        |
| 임유진 | 19830121000000                        |
| 서재진 | 19851129000000                        |
| 이광훈 | 19810913000000                        |
| 류민정 | 19810819000000                        |
| 김진영 | 19820606000000                        |
| 하나리 | 19850109000000                        |
| 이동훈 | 19831210000000                        |
| 박동진 | 19851124000000                        |
| 김진경 | 19830228000000                        |
| 조명훈 | 19841214000000                        |
+--------+---------------------------------------+
```

### 연습문제 2
직계함수는 where 절에서 못쓴다
```sql
select max(height), min(height) from student where deptno=101;
+-------------+-------------+
| max(height) | min(height) |
+-------------+-------------+
|         186 |         161 |
+-------------+-------------+
```


# 그룹 조회

## GROUP BY

### ex 1)
- group by 절을 사용해 deptno컬럼을 그룹화 할 경우,
- name 컬럼에 대한 처리 기준이 정해지지 않았으므로
- MySQL은 각 그룹안에서 가장 첫 번째 이름을 출력한다
- => 8.x 버전 이후부터 이 경우 에러로 처리
- => group by 절에 명시되지 않은 컬럼을 select 에서 사용할 경우 집계 함수를 사용해 각 그룹별 통계 데이터를 얻을 수 있다
```sql
select deptno, count(name) from professor group by deptno;
+--------+-------------+
| deptno | count(name) |
+--------+-------------+
|    101 |           4 |
|    102 |           2 |
|    201 |           1 |
|    202 |           1 |
+--------+-------------+
```

### ex 2)
교수 테이블에서 학과별로 교수 수와 보직 수당을 받는 교수 수 출력
```sql
select deptno, count(*), count(comm) from professor group by deptno;
+--------+----------+-------------+
| deptno | count(*) | count(comm) |
+--------+----------+-------------+
|    101 |        4 |           2 |
|    102 |        2 |           1 |
|    201 |        1 |           0 |
|    202 |        1 |           1 |
+--------+----------+-------------+
```

## 다중 칼럼 이용한 그룹별 검색

### ex 3)
학생 테이블에서 전체 학생을 소속 학과별로 나누고, 같은 학과 학생은 다시 학년별로 그룹핑해, 학과와 학년별로 인원수, 평균 몸무게 출력
```sql
select deptno, grade, count(*), avg(weight) from student group by deptno, grade;
+--------+-------+----------+-------------+
| deptno | grade | count(*) | avg(weight) |
+--------+-------+----------+-------------+
|    101 |     4 |        2 |     82.0000 |
|    101 |     1 |        2 |     62.0000 |
|    101 |     3 |        1 |     88.0000 |
|    101 |     2 |        3 |     56.0000 |
|    102 |     2 |        1 |     48.0000 |
|    102 |     4 |        1 |     92.0000 |
|    102 |     1 |        1 |     68.0000 |
|    102 |     3 |        1 |     70.0000 |
|    201 |     1 |        3 |     65.3333 |
|    201 |     2 |        1 |     51.0000 |
+--------+-------+----------+-------------+
```

### HAVING

### ex 4)
학생 수가 4명 초과인 학년에 대해서 학년, 학생수, 평균키, 평균몸무게 출력
- 평균키가 높은순부터 내림차순 출력
```sql
select grade, count(*), avg(height) avg_height, avg(weight) avg_weight from student group by grade having count(*)>4 order by avg_height desc;
+-------+----------+------------+------------+
| grade | count(*) | avg_height | avg_weight |
+-------+----------+------------+------------+
|     1 |        6 |   175.3333 |    64.6667 |
|     2 |        5 |   164.8000 |    53.4000 |
+-------+----------+------------+------------+
```
=> 정렬조건에 select에서 수행한 연산이나 집계결과를 활용해야 할 경우, select절에서 별칭을 명시하고 이를 참조하면 정렬과정에서 발생하는 불필요한 추가 연산을 방지할 수 있다

### ex 5)
동일 학과 내에서 같은 학년에 재학중인 학생 수가 3명 이상인 그룹의 학과번호, 학년, 학생 수, 최대 키, 최대 몸무게 출력
```sql
select deptno, grade, count(*), max(height), max(weight) from student group by deptno, grade having count(*)>=3 order by deptno;
+--------+-------+----------+-------------+-------------+
| deptno | grade | count(*) | max(height) | max(weight) |
+--------+-------+----------+-------------+-------------+
|    101 |     2 |        3 |         171 |          72 |
|    201 |     1 |        3 |         184 |          70 |
+--------+-------+----------+-------------+-------------+
```

### 연습문제 1 
학과별로 학과번호, 교수들의 평균급여, 최소급여, 최대급여 출력
```sql
select deptno, avg(sal), min(sal), max(sal) from professor group by deptno;
+--------+----------+----------+----------+
| deptno | avg(sal) | min(sal) | max(sal) |
+--------+----------+----------+----------+
|    101 | 372.5000 |      210 |      500 |
|    102 | 345.0000 |      240 |      450 |
|    201 | 320.0000 |      320 |      320 |
|    202 | 400.0000 |      400 |      400 |
+--------+----------+----------+----------+
```

### 연습문제 2
학과별로 학과번호, 평균몸무게, 학생수를 출력하되 평균 몸무게의 내림차순으로 정렬
```sql
select deptno, avg(weight) as avg_weight, count(*) from student group by deptno order by avg_weight desc;
+--------+------------+----------+
| deptno | avg_weight | count(*) |
+--------+------------+----------+
|    102 |    69.5000 |        4 |
|    101 |    68.0000 |        8 |
|    201 |    61.7500 |        4 |
+--------+------------+----------+
```

### 연습문제 3
학과별 교수 수가 2명 이하인 학과의 학과번호, 교수 수를 학과번호 순으로 정렬하여 출력
```sql
select deptno, count(*) from professor group by deptno having count(*) <= 2 order by deptno;
+--------+----------+
| deptno | count(*) |
+--------+----------+
|    102 |        2 |
|    201 |        1 |
|    202 |        1 |
+--------+----------+
```


## JOIN

- 두 개 이상의 테이블을 결합해 필요한 데이터 조회

SELECT    FROM 테이블1, 테이블2, ...    WHERE    GROUP BY    ORDER BY

- 테이블의 이름 콤마로 구분
- JOIN이 이뤄지는 테이블에 동일한 이름의 컬럼이 존재할 경우 SELECT 절에서 테이블.컬럼 형식으로 명시한다

카디션 곱

카디션 곱의 언인
- WHERE 절에서 JOIN 조건을 명시하지 않거나 잘못 설정하여 양쪽테이블을 연결하는 조건을 만족하는 행이 하나도 없는 경우 발생
- JOIN의 조건이 되는 적절한 WHERE절 명시

### EQUI JOIN
- SQL 문에서 가장 많이 사용되는 JOIN
- 공통컬럼에 대해 '=' 명시
- 같은 값을 갖는 행을 연결해 결과를 생성하는 방법

### EX 1)
교수의 이름과 소속 학과 번호, 학과 이름 조회
```sql
select name, professor.deptno, dname from professor, department where professor.deptno = department.deptno;
select name, department.deptno, dname from professor, department where professor.deptno = department.deptno;
+--------+--------+----------------+
| name   | deptno | dname          |
+--------+--------+----------------+
| 김도훈 |    101 | 컴퓨터공학과   |
| 성연희 |    101 | 컴퓨터공학과   |
| 이만식 |    101 | 컴퓨터공학과   |
| 전은지 |    101 | 컴퓨터공학과   |
| 염일웅 |    102 | 멀티미디어학과 |
| 권혁일 |    102 | 멀티미디어학과 |
| 이재우 |    201 | 전자공학과     |
| 남은혁 |    202 | 기계공학과     |
+--------+--------+----------------+
```

### 테이블 이름에 대한 별칭 사용하기
- FROM 절에 명시되는 테이블 이름에 별칭 적용하면, SELECT, WHERE 절에서 별칭 사용가능

### EX 2)
교수이름, 소속학과번호, 학과이름 조회
```sql
select p.name, d.deptno, d.dname from professor p, department d where p.deptno = d.deptno;
```

### EX 3)
101번 학과에 소속된 교수들의 이름, 학과번호, 학과이름 조회
- 이미 JOIN 조건을 명시하기 위해 WHERE절이 사용되었기 때문에, 추가적인 검색조건은 AND 연산자를 사용한다
- 검색조건은 양쪽 테이블 중 하나에 대해서만 지정하면 된다
```sql
select p.name, p.deptno, d.dname from professor p, department d where p.deptno = d.deptno and p.deptno=101;
+--------+--------+--------------+
| name   | deptno | dname        |
+--------+--------+--------------+
| 김도훈 |    101 | 컴퓨터공학과 |
| 성연희 |    101 | 컴퓨터공학과 |
| 이만식 |    101 | 컴퓨터공학과 |
| 전은지 |    101 | 컴퓨터공학과 |
+--------+--------+--------------+
```

## INNER JOIN
- EQUI JOIN을 다른 형태로 표현한 JOIN
- 두 테이블 모두에서 JOIN 조건을 만족하는 교집합을 조회
- EQUI JOIN 에서 테이블 이름을 구분하는 콤마를 INNER JOIN이라는 키워드로 변경하고 WHERE은 ON으로 변경한다
  
### EX 4)
교수이름, 소속학과번호, 학과이름을 INNER JOIN 으로 조회
```sql
select p.name, p.deptno, d.dname from professor p inner join department d on p.deptno = d.deptno;
+--------+--------+----------------+
| name   | deptno | dname          |
+--------+--------+----------------+
| 김도훈 |    101 | 컴퓨터공학과   |
| 성연희 |    101 | 컴퓨터공학과   |
| 이만식 |    101 | 컴퓨터공학과   |
| 전은지 |    101 | 컴퓨터공학과   |
| 염일웅 |    102 | 멀티미디어학과 |
| 권혁일 |    102 | 멀티미디어학과 |
| 이재우 |    201 | 전자공학과     |
| 남은혁 |    202 | 기계공학과     |
+--------+--------+----------------+
```

### EX 5)
101번 학과에 소속된 교수들의 이름, 학과번호, 학과이름을 INNER JOIN으로 조회
- INNER JOIN 은 조인 조건에 ON절 사용하기 때문에, 추가적인 검색 조건은 WHERE절 사용
```sql
select p.name, p.deptno, d.dname from professor p inner join department d on p.deptno = d.deptno where p.deptno=101;
+--------+--------+--------------+
| name   | deptno | dname        |
+--------+--------+--------------+
| 김도훈 |    101 | 컴퓨터공학과 |
| 성연희 |    101 | 컴퓨터공학과 |
| 이만식 |    101 | 컴퓨터공학과 |
| 전은지 |    101 | 컴퓨터공학과 |
+--------+--------+--------------+
```

## OUTER JOIN
- 조건에 부합하지 않는 행들까지도 포함시켜 결합하는 것

### EX 6)
학생이름과 담당교수이름 조회 ( 담당교수가 없는 학생의 경우 이름만 조회)
```sql
select s.name, p.name from student s left outer join professor p on s.profno = p.profno;
+--------+--------+
| name   | name   |
+--------+--------+
| 전인하 | 성연희 |
| 박미경 | NULL   |
| 김영균 | 이만식 |
| 지은경 | 전은지 |
| 임유진 | 전은지 |
| 서재진 | NULL   |
| 이광훈 | 성연희 |
| 류민정 | 전은지 |
| 김진영 | 권혁일 |
| 오유석 | 권혁일 |
| 하나리 | NULL   |
| 윤진욱 | 권혁일 |
| 이동훈 | NULL   |
| 박동진 | NULL   |
| 김진경 | 이재우 |
| 조명훈 | NULL   |
+--------+--------+
```
- LEFT OUTER JOIN : 왼쪽에 지정된 테이블의 모든 데이터 출력을 보장한다

### EX 7)
학생이름과 담당교수이름 조회 ( 담당학생이 없는 교수의 경우 이름만 조회)
```sql
select s.name, p.name from student s right outer join professor p on s.profno = p.profno;
+--------+--------+
| name   | name   |
+--------+--------+
| NULL   | 김도훈 |
| 김진경 | 이재우 |
| 전인하 | 성연희 |
| 이광훈 | 성연희 |
| NULL   | 염일웅 |
| 김진영 | 권혁일 |
| 오유석 | 권혁일 |
| 윤진욱 | 권혁일 |
| 김영균 | 이만식 |
| 지은경 | 전은지 |
| 임유진 | 전은지 |
| 류민정 | 전은지 |
| NULL   | 남은혁 |
+--------+--------+
```
- RIGHT OUTER JOIN : 오른쪽에 지정된 테이블의 모든 데이터 출력을 보장한다

### EX 8)
학생이름과 학년, 소속학과이름과 담당교수이름 조회
- 두 개 이상의 테이블을 조인하는 경우 기준이 되는 하나의 테이블을 정하고, 기준 테이블에서 다른 테이블을 조인하도록 작성한다
```sql
select s.name, s.grade, d.dname, concat( p.name, ' ', p.position ) from student s, department d, professor p where s.deptno = d.deptno and s.profno = p.profno;

select s.name, grade, d.dname, concat( p.name, ' ', p.position ) from student s inner join department d on s.deptno = d.deptno inner join professor p on s.profno = p.profno;

+--------+-------+----------------+-----------------------------------+
| name   | grade | dname          | concat( p.name, ' ', p.position ) |
+--------+-------+----------------+-----------------------------------+
| 전인하 |     4 | 컴퓨터공학과   | 성연희 조교수                     |
| 김영균 |     3 | 컴퓨터공학과   | 이만식 부교수                     |
| 지은경 |     2 | 컴퓨터공학과   | 전은지 전임강사                   |
| 임유진 |     2 | 컴퓨터공학과   | 전은지 전임강사                   |
| 이광훈 |     4 | 컴퓨터공학과   | 성연희 조교수                     |
| 류민정 |     2 | 컴퓨터공학과   | 전은지 전임강사                   |
| 김진영 |     2 | 멀티미디어학과 | 권혁일 교수                       |
| 오유석 |     4 | 멀티미디어학과 | 권혁일 교수                       |
| 윤진욱 |     3 | 멀티미디어학과 | 권혁일 교수                       |
| 김진경 |     2 | 전자공학과     | 이재우 조교수                     |
+--------+-------+----------------+-----------------------------------+
```

### EX 9)
학생이름, 학년, 소속학과이름, 담당교수이름+직급 조회 ( 담당교수없는 학생은 NULL 표시)
```sql
select s.name, grade, d.dname, concat(p.name, ' ', p.position) from student s inner join department d on s.deptno = d.deptno left outer join professor p on s.profno = p.profno;
+--------+-------+----------------+---------------------------------+
| name   | grade | dname          | concat(p.name, ' ', p.position) |
+--------+-------+----------------+---------------------------------+
| 전인하 |     4 | 컴퓨터공학과   | 성연희 조교수                   |
| 박미경 |     1 | 컴퓨터공학과   | NULL                            |
| 김영균 |     3 | 컴퓨터공학과   | 이만식 부교수                   |
| 지은경 |     2 | 컴퓨터공학과   | 전은지 전임강사                 |
| 임유진 |     2 | 컴퓨터공학과   | 전은지 전임강사                 |
| 서재진 |     1 | 컴퓨터공학과   | NULL                            |
| 이광훈 |     4 | 컴퓨터공학과   | 성연희 조교수                   |
| 류민정 |     2 | 컴퓨터공학과   | 전은지 전임강사                 |
| 김진영 |     2 | 멀티미디어학과 | 권혁일 교수                     |
| 오유석 |     4 | 멀티미디어학과 | 권혁일 교수                     |
| 하나리 |     1 | 멀티미디어학과 | NULL                            |
| 윤진욱 |     3 | 멀티미디어학과 | 권혁일 교수                     |
| 이동훈 |     1 | 전자공학과     | NULL                            |
| 박동진 |     1 | 전자공학과     | NULL                            |
| 김진경 |     2 | 전자공학과     | 이재우 조교수                   |
| 조명훈 |     1 | 전자공학과     | NULL                            |
+--------+-------+----------------+---------------------------------+
```

### 연습문제 1
EQUI JOIN 사용해 학생 테이블과 부서테이블의 학번, 이름, 학과번호, 소속학과이름, 학과위치 출력
```sql
select s.studno, s.name, s.deptno, d.dname, d.loc from student s, department d where s.deptno = d.deptno;
+--------+--------+--------+----------------+-------+
| studno | name   | deptno | dname          | loc   |
+--------+--------+--------+----------------+-------+
|  10101 | 전인하 |    101 | 컴퓨터공학과   | 1호관 |
|  10102 | 박미경 |    101 | 컴퓨터공학과   | 1호관 |
|  10103 | 김영균 |    101 | 컴퓨터공학과   | 1호관 |
|  10104 | 지은경 |    101 | 컴퓨터공학과   | 1호관 |
|  10105 | 임유진 |    101 | 컴퓨터공학과   | 1호관 |
|  10106 | 서재진 |    101 | 컴퓨터공학과   | 1호관 |
|  10107 | 이광훈 |    101 | 컴퓨터공학과   | 1호관 |
|  10108 | 류민정 |    101 | 컴퓨터공학과   | 1호관 |
|  10201 | 김진영 |    102 | 멀티미디어학과 | 2호관 |
|  10202 | 오유석 |    102 | 멀티미디어학과 | 2호관 |
|  10203 | 하나리 |    102 | 멀티미디어학과 | 2호관 |
|  10204 | 윤진욱 |    102 | 멀티미디어학과 | 2호관 |
|  20101 | 이동훈 |    201 | 전자공학과     | 3호관 |
|  20102 | 박동진 |    201 | 전자공학과     | 3호관 |
|  20103 | 김진경 |    201 | 전자공학과     | 3호관 |
|  20104 | 조명훈 |    201 | 전자공학과     | 3호관 |
+--------+--------+--------+----------------+-------+
```

### 연습문제 2
102번 학과에 다니는 학생들에 대한 학번, 이름, 학과번호, 소속학과이름, 학년을 EQUI JOIN 으로 조회하여 학년 순으로 출력
```sql
select s.studno, s.name, s.deptno, d.dname, s.grade from student s, department d where s.deptno = d.deptno and s.deptno=102 order by s.grade;
+--------+--------+--------+----------------+-------+
| studno | name   | deptno | dname          | grade |
+--------+--------+--------+----------------+-------+
|  10203 | 하나리 |    102 | 멀티미디어학과 |     1 |
|  10201 | 김진영 |    102 | 멀티미디어학과 |     2 |
|  10204 | 윤진욱 |    102 | 멀티미디어학과 |     3 |
|  10202 | 오유석 |    102 | 멀티미디어학과 |     4 |
+--------+--------+--------+----------------+-------+
```

### 연습문제 3
학생이름, 학년, 담당교수이름, 담당교수직급을 EQUI JOIN 으로 조회
```sql
select s.name, s.grade, p.name, p.position from student s, professor p where s.profno = p.profno;
+--------+-------+--------+----------+
| name   | grade | name   | position |
+--------+-------+--------+----------+
| 김진경 |     2 | 이재우 | 조교수   |
| 전인하 |     4 | 성연희 | 조교수   |
| 이광훈 |     4 | 성연희 | 조교수   |
| 김진영 |     2 | 권혁일 | 교수     |
| 오유석 |     4 | 권혁일 | 교수     |
| 윤진욱 |     3 | 권혁일 | 교수     |
| 김영균 |     3 | 이만식 | 부교수   |
| 지은경 |     2 | 전은지 | 전임강사 |
| 임유진 |     2 | 전은지 | 전임강사 |
| 류민정 |     2 | 전은지 | 전임강사 |
+--------+-------+--------+----------+
```

### 연습문제 4
학생이름, 학년, 담당교수이름, 담당교수직급을 INNER JOIN 으로 조회
```sql
select s.name, s.grade, p.name, p.position from student s inner join professor p on s.profno = p.profno;
```

